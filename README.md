# Project 1: Basic EC2 Instance Monitoring with Grafana and CloudWatch

## Project Overview

This project demonstrates foundational DevOps skills by deploying a simple web server on an AWS EC2 instance and setting up a monitoring solution using Grafana with AWS CloudWatch. It showcases basic infrastructure deployment, application hosting, and observability integration.

## Learning Objectives Achieved

* Launching and configuring an AWS EC2 instance.
* Understanding and applying AWS IAM Roles for secure service-to-service communication.
* Configuring AWS Security Groups for network access control.
* Installing and setting up Grafana on a Linux instance.
* Connecting Grafana to AWS CloudWatch as a data source.
* Creating a basic Grafana dashboard to visualize EC2 instance metrics.
* Implementing a minimalistic web interface for demonstration purposes.

## Deployed AWS Resources

The following AWS resources were deployed and configured for this project:

1.  **EC2 Instance:**
    * **Name:** `Grafana-Web-Server`
    * **Instance ID:** `[Your EC2 Instance ID, e.g., i-0abcdef1234567890]`
    * **AMI:** `[e.g., Amazon Linux 2023 AMI (HVM) - Kernel 6.1]`
    * **Instance Type:** `[e.g., t2.micro]`
    * **Public IPv4 Address:** `[Your EC2 Public IPv4 Address]`
    * **Key Pair:** `grafana-web-server-key.pem`
    * **User Data Script:** Used to install Apache HTTPD and create a simple `index.html` web page on instance launch.
        ```bash
        #!/bin/bash
        sudo yum update -y
        sudo yum install -y httpd
        sudo systemctl start httpd
        sudo systemctl enable httpd
        echo "<h1>Hello from my EC2 Web Server!</h1><p>Monitoring this with Grafana soon!</p>" | sudo tee /var/www/html/index.html
        ```

2.  **IAM Role:**
    * **Name:** `Grafana-CloudWatch-Role`
    * **ARN:** `[Your IAM Role ARN, e.g., arn:aws:iam::123456789012:role/Grafana-CloudWatch-Role]`
    * **Attached Policies:** `CloudWatchReadOnlyAccess`
    * **Purpose:** Attached to the EC2 instance to grant Grafana permissions to read metrics from AWS CloudWatch.

3.  **Security Group:**
    * **Name:** `web-server-sg`
    * **Description:** `Security group for web server and Grafana access`
    * **Inbound Rules:**
        * SSH (Port 22) from `[Your IP or Anywhere (for demo)]`
        * HTTP (Port 80) from `Anywhere` (for web server access)
        * Custom TCP (Port 3000) from `[Your IP or Anywhere (for demo)]` (for Grafana UI access)

## Setup and Deployment Steps

Here's a high-level overview of the steps taken to deploy this project:

1.  **Launch EC2 Instance:** Configured and launched an `Amazon Linux 2023 t2.micro` instance with a new key pair and `web-server-sg` security group. User data script was included to set up Apache and the web page.
2.  **SSH into EC2 Instance:** Connected using the generated `.pem` key.
3.  **Install Grafana:** Added Grafana's YUM repository and installed Grafana OSS using `sudo dnf install grafana -y`. Started and enabled the `grafana-server` service.
4.  **Create IAM Role:** Created `Grafana-CloudWatch-Role` with the `CloudWatchReadOnlyAccess` managed policy.
5.  **Attach IAM Role to EC2:** Modified the EC2 instance to attach the `Grafana-CloudWatch-Role`.
6.  **Configure Grafana Data Source:** Logged into Grafana, added a new CloudWatch data source, selecting "AWS SDK Default" as the authentication provider and specifying the correct AWS region.
7.  **Create Grafana Dashboard:** Created a new dashboard (`My First EC2 Monitoring Dashboard`) and added panels to visualize `CPUUtilization`, `NetworkIn`, and `DiskReadOps` metrics for the EC2 instance, using the `InstanceId` dimension.

## Demonstration

1.  **Access the Web Server:** Open a web browser and navigate to `http://[YOUR_EC2_PUBLIC_IPV4]`. You should see the "Hello from my EC2 Web Server!" message. Refresh this page several times to generate traffic.
2.  **Access the Grafana Dashboard:** Open another browser tab and navigate to `http://[YOUR_EC2_PUBLIC_IPV4]:3000`. Log in with `admin`/`admin` (and change the password). Navigate to your `My First EC2 Monitoring Dashboard`.
3.  **Observe Monitoring Data:** Watch the graphs update to reflect the CPU, network, and disk activity generated by accessing the web page. This demonstrates real-time monitoring of your infrastructure.

## Future Enhancements (Ideas for Project 2 and beyond)

* Install the **Amazon CloudWatch Agent** to collect detailed memory and disk space metrics.
* Containerize the web application using Docker.
* Automate the EC2 and Grafana setup using Infrastructure as Code (e.g., CloudFormation or Terraform).
* Implement alerting in Grafana based on metric thresholds.
* Integrate application logs into Grafana (e.g., using Loki).